<!DOCTYPE html>
<html lang="en">

	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Light Brown Cloth Sofa</title>
		<link rel="stylesheet" href="main.css">
		<link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>
		<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
	</head>

<body>
<section class="ModelViewrMain" id="MV">
        <model-viewer 
            id="model-viewer-id" 
            src="./models/Sofa.glb"
            poster="./images/Sofa_Poster.jpg"
			auto-rotate
            alt="Light Brown Cloth Sofa" 
            interaction-prompt="auto" 
            exposure="1" 
            shadow-intensity="3" 
            shadow-softness="0.1"
            camera-orbit="0 75deg 2m" 
            max-camera-orbit="0 75deg 2.3m" 
            interaction-prompt="none" 
            camera-controls>


			<div class="progress-bar" slot="progress-bar">
                <div class="update-bar"></div>
            </div>

        </model-viewer>
			
</section>
	<script>
		var modelviewer = document.getElementById("model-viewer-id");
		const onProgress = function(event) {
			const progressBar = event.target.querySelector('.progress-bar');
			const updatingBar = event.target.querySelector('.update-bar');
			updatingBar.style.width = (event.detail.totalProgress*100)+'%';
			progressBar.style.visibility = "visible";
			if (event.detail.totalProgress == 1) {
				progressBar.classList.add('hide');
				progressBar.style.visibility = "hidden";
			}
		};
		modelviewer.addEventListener('progress', onProgress);
    </script>
</body>

</html>